<!DOCTYPE html>
<html>

<head>
    <title>摸鱼办公室</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="./static/moyu.ico" type="image/x-icon">
    <meta name="keywords" content="摸鱼办公室"/>
    <meta name="description" content="你好，摸鱼人，工作再累，一定不要忘记摸鱼哦 ！"/>
    <link rel="stylesheet" href="./static/css/index-style.css">
    <link rel="stylesheet" href="/TDmoyu/static/css/index-style.css">
    <script src="./static/js/tool.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/katex@0.13.18/dist/katex.min.css" rel="stylesheet">
    <link href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiperstyle.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" rel="stylesheet">
    <script src="https://res.wx.qq.com/open/js/jweixin-1.2.0.js"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/avalon.js/2.2.7/avalon.min.js"></script>
</head>

<body for="html-export">
<div class="mume markdown-preview " ms-controller="moyu">
    <h1 align="center" ms-visible="!browser.versions.mobileWechat">摸鱼办公室</h1>
    <p align="center">
        <img src="./static/moyu.gif" alt="">
    </p>
    <center>
        摸鱼办提醒您: 今天是 {{ @today }} {{ @week_name }}
        <br><br>
        <p>
            你好，摸鱼人，工作再累，一定不要忘记摸鱼哦 ！<br>
            有事没事起身去茶水间冲个咖啡，去廊道去天台走走，别老在工位上坐着。<br>
            多喝点水，钱是老板的，但命是自己的 !
        </p>

        <p ms-for="(index,v) in @holiday">
            🐟 距离 {{ v.name }} 放假还有 {{ @v.day_num }} 天
        </p>

        <p>
            【友情提示】三甲医院 ICU 躺一天平均费用大概一万块。<br>
            你晚一天进 ICU，就等于为你的家庭多赚一万块。少上班，多摸鱼。<br>
            上班是帮老板赚钱，摸鱼是赚老板的钱！最后，祝愿天下所有摸鱼人，都能愉快的渡过每一天 !
        </p>


    </center>

    <br><br>
    <p align="right">摸鱼办 宣 </p>

    <div class="games" id="article-container">
        <p><i class="fas fa-tags"></i> <span>小游戏专区</span></p>
        <div class="tab-contents">
            <div class="tab-item-content">
                <figure class="gallery-group">
                    <img class="gallery-group-img no-lightbox"
                         src="https://img-blog.csdnimg.cn/099a9303476a468c8997b9d0163e8bcf.png"
                         alt="Group Image Gallery">
                    <figcaption>
                        <div class="gallery-group-name">2048</div>
                        <p>by the 原 2048 的灵感</p>
                        <a href="/TDmoyu/games/2048"></a>
                    </figcaption>
                </figure>


                <figure class="gallery-group">
                    <img class="gallery-group-img no-lightbox"
                         src="https://img-blog.csdnimg.cn/a8885f95db0e45f0ad672dddfce606c3.png"
                         alt="Group Image Gallery">
                    <figcaption>
                        <div class="gallery-group-name">切方块小游戏</div>
                        <p>容易漏划建议玩休闲模式👀</p>
                        <a href="/TDmoyu/games/qiefangkuai"></a>
                    </figcaption>
                </figure>


                <figure class="gallery-group">
                    <img class="gallery-group-img no-lightbox"
                         src="https://img-blog.csdnimg.cn/79b4513aa01a4269b3d1736b815606f9.png"
                         alt="Group Image Gallery">
                    <figcaption>
                        <div class="gallery-group-name">圣诞老人过桥</div>
                        <p>看看你能玩到多少分</p>
                        <a href="/TDmoyu/games/Santa-Claus"></a>
                    </figcaption>
                </figure>


                <figure class="gallery-group">
                    <img class="gallery-group-img no-lightbox"
                         src="https://img-blog.csdnimg.cn/63bdae23ad1d42e29041b54f831ed97e.png"
                         alt="Group Image Gallery">
                    <figcaption>
                        <div class="gallery-group-name">盖塔楼</div>
                        <p>单击(或按空格)放置砖块，看看你能堆多高</p>
                        <a href="/TDmoyu/games/tower-blocks"></a>
                    </figcaption>
                </figure>


                <figure class="gallery-group">
                    <img class="gallery-group-img no-lightbox"
                         src="https://img-blog.csdnimg.cn/f7e2c21796724138950db6566337c1c9.png"
                         alt="Group Image Gallery">
                    <figcaption>
                        <div class="gallery-group-name">俄罗斯方块</div>
                        <p>俄罗斯方块实现了用手机电脑一起玩，外观也很奈斯</p>
                        <a href="/TDmoyu/games/eluosi"></a>
                    </figcaption>
                </figure>


                <figure class="gallery-group">
                    <img class="gallery-group-img no-lightbox"
                         src="https://img-blog.csdnimg.cn/568d25b12adf43a2bccf21d582e4f08c.png"
                         alt="Group Image Gallery">
                    <figcaption>
                        <div class="gallery-group-name">闯关小游戏</div>
                        <p>简单的闯关游戏 请用电脑打开，上下左右控制方向 吃完所有金币进入下一关</p>
                        <a href="/TDmoyu/games/simple"></a>
                    </figcaption>
                </figure>


                <figure class="gallery-group">
                    <img class="gallery-group-img no-lightbox"
                         src="https://img-blog.csdnimg.cn/e3b3fb36d7654dd4b643a8b3185bce20.png"
                         alt="Group Image Gallery">
                    <figcaption>
                        <div class="gallery-group-name">打地鼠</div>
                        <p>哦咧哇dadishu咪哒！</p>
                        <a href="/TDmoyu/games/catch-mole"></a>
                    </figcaption>
                </figure>


                <figure class="gallery-group">
                    <img class="gallery-group-img no-lightbox"
                         src="https://img-blog.csdnimg.cn/1616779f7720439a962f069686bc8dd3.png"
                         alt="Group Image Gallery">
                    <figcaption>
                        <div class="gallery-group-name">爱吹风的小狮子🦁</div>
                        <p>按住并拖动以产生风，小狮子一定会很舒服❤</p>
                        <a href="/TDmoyu/games/lion"></a>
                    </figcaption>
                </figure>


                <figure class="gallery-group">
                    <img class="gallery-group-img no-lightbox"
                         src="https://img-blog.csdnimg.cn/1193abf1eb5d4f61b1a51baae851bd7b.png"
                         alt="Group Image Gallery">
                    <figcaption>
                        <div class="gallery-group-name">三只小鸡</div>
                        <p>点击屏幕任意位置，看看三只小鸡如何跟着它动</p>
                        <a href="/TDmoyu/games/sanzhiji"></a>
                    </figcaption>
                </figure>

            </div>
        </div>
    </div>
</div>

<center>
    <!--    <a style="font-size: 14px;font-weight: 100;color: #aaa;" href="https://beian.miit.gov.cn/">备案信息</a>-->
</center>

<script>


    let vm = avalon.define({
        $id: "moyu",
        holiday: [],
        browser: {
            versions: function () {
                let u = navigator.userAgent, app = navigator.appVersion;
                return {         //移动终端浏览器版本信息
                    trident: u.indexOf('Trident') > -1, //IE内核
                    presto: u.indexOf('Presto') > -1, //opera内核
                    webKit: u.indexOf('AppleWebKit') > -1, //苹果、谷歌内核
                    gecko: u.indexOf('Gecko') > -1 && u.indexOf('KHTML') == -1, //火狐内核
                    mobile: !!u.match(/AppleWebKit.*Mobile.*/), //是否为移动终端
                    ios: !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/), //ios终端
                    android: u.indexOf('Android') > -1 || u.indexOf('Linux') > -1, //android终端或uc浏览器
                    iPhone: u.indexOf('iPhone') > -1, //是否为iPhone或者QQHD浏览器
                    iPad: u.indexOf('iPad') > -1, //是否iPad
                    webApp: u.indexOf('Safari') == -1, //是否web应该程序，没有头部与底部
                    wechat: u.toLowerCase().match(/MicroMessenger/i) == "micromessenger", //是否微信
                    mobileWechat: !!u.match(/AppleWebKit.*Mobile.*/) && u.toLowerCase().match(/MicroMessenger/i) == "micromessenger", //是否移动端微信
                    weibo: u.toLowerCase().match(/WeiBo/i) == "weibo" //是否微博
                };
            }(),
            language: (navigator.browserLanguage || navigator.language).toLowerCase()
        }
    })

    vm.now = new Date();
    vm.xq = vm.now.getDay(), h = vm.now.getHours(), m = vm.now.getMinutes(),
        vm.sj = (h < 10 ? '0' : '') + h + ':' + (m < 10 ? '0' : '') + m;
    vm.week_name = toWeekName(vm.now.format("yyyy-MM-dd"));
    vm.today = vm.now.format("yyyy") + "年" + vm.now.format("MM") + "月" + vm.now.format("dd") + "日  ";
    vm.work_time = vm.xq >= 1 && vm.xq <= 5 && vm.sj >= '09:00' && vm.sj <= '18:00';


    //计算剩余时长
    let calc_date = function (datetime) {
        let now = new Date();
        let endtime = new Date(datetime);

        // //赋值
        let day = (endtime - now) / 1000 / 60 / 60 / 24;
        let hour = parseFloat("0." + (day + "").split('.')[1]) * 24;
        let minu = parseFloat("0." + (hour + "").split('.')[1]) * 60;
        let sec = parseFloat("0." + (minu + "").split('.')[1].substring(0, 4)) * 60;

        day = parseInt(day) + 1;
        hour = parseInt(hour);
        minu = parseInt(minu);
        sec = parseInt(sec);

        return day;

    }

    $.ajax({
        url: "./data/holiday.json?t=" + vm.now.getTime(),
        type: 'GET',
        datatype: 'JSON',
        success: function (req_data) {
            console.log(req_data);
            vm.holiday = req_data.data.map(function (_holiday) {
                _holiday.day_num = calc_date(_holiday.holidaytime);
                return _holiday;
            });
        },
        error: function (err) {
            $("h3").text("数据异常");
            return;
        }

    });

</script>
</body>
</html>
